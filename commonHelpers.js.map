{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const ENDPOINT = 'https://pixabay.com/api/';\nconst API_KEY = '36399234-af15385039238a4844768ffbd';\n\nclass NewApiSearch {\n  constructor() {\n    this.searchQuery = '';\n  }\n  getNews() {\n    return fetch(\n      `${ENDPOINT}?key=${API_KEY}&q=${this.searchQuery}&image_type=\"photo\"&orientation=\"horizontal\"&safesearch=true`\n    ).then(response => {\n      if (!response) {\n        throw new Error(\n          `HTTP error! Status: ${response.status}, Text: ${response.statusText}`\n        );\n      }\n      return response.json();\n    });\n  }\n}\n\nexport { NewApiSearch };\n","function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"list-item\">\n          <a class=\"list-link\" href=\"${largeImageURL}\"\n            ><img class=\"list-img\" src=\"${webformatURL}\" alt=\"${tags}\"\n          /></a>\n          <div class=\"list-conteiner\">\n            <div class=\"list-wrappar\">\n              <b class=\"list-pretext\">Likes</b>\n              <p class=\"list-text\">${likes}</p>\n            </div>\n            <div class=\"list-wrappar\">\n              <b class=\"list-pretext\">Views</b>\n              <p class=\"list-text\">${views}</p>\n            </div>\n            <div class=\"list-wrappar\">\n              <b class=\"list-pretext\"> Comments</b>\n              <p class=\"list-text\">${comments}</p>\n            </div>\n            <div class=\"list-wrappar\">\n              <b class=\"list-pretext\"> Downloads</b>\n              <p class=\"list-text\">${downloads}</p>\n            </div>\n          </div>\n        </li>`;\n      }\n    )\n    .join('');\n}\n\nexport { createMarkup };\n","import { NewApiSearch } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst newApiSearch = new NewApiSearch();\n\nconst refs = {\n  formSearch: document.querySelector('.form'),\n  listForm: document.querySelector('.list-form'),\n  spinner: document.querySelector('.conteiner-loader'),\n};\n\nrefs.formSearch.addEventListener('submit', onFormSearch);\n\nspinnerHide();\n\nfunction onFormSearch(e) {\n  e.preventDefault();\n  newApiSearch.searchQuery = e.currentTarget.elements.searchQuery.value.trim();\n  spinnerShow();\n  clearNewList();\n\n  newApiSearch\n    .getNews(newApiSearch.searchQuery)\n    .then(({ hits, totalHits }) => {\n      if (!hits.length || !newApiSearch.searchQuery) {\n        throw new Error('No data');\n      }\n\n      spinnerHide();\n\n      informationTotalPrice(totalHits);\n\n      refs.listForm.innerHTML = createMarkup(hits);\n\n      gallery.refresh();\n    })\n    .catch(errorSearch)\n    .finally(clearFormSearch);\n}\n\nfunction clearFormSearch() {\n  refs.formSearch.reset();\n}\n\nfunction errorSearch(err) {\n  iziToast.error({\n    position: 'topRight',\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n  console.log(\n    'Sorry, there are no images matching your search query. Please try again!'\n  );\n\n  spinnerHide();\n}\n\nfunction clearNewList() {\n  refs.listForm.innerHTML = '';\n}\n\nfunction informationTotalPrice(elements) {\n  console.log(`Hooray! We found ${elements} images.`);\n\n  iziToast.success({\n    position: 'topRight',\n    title: 'OK',\n    message: `Hooray! We found ${elements} images.`,\n  });\n}\n\n// Status spinner\n\nfunction spinnerHide() {\n  refs.spinner.classList.add('hidden');\n}\n\nfunction spinnerShow() {\n  refs.spinner.classList.remove('hidden');\n}\n"],"names":["ENDPOINT","API_KEY","NewApiSearch","response","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","SimpleLightbox","newApiSearch","refs","onFormSearch","spinnerHide","e","spinnerShow","clearNewList","hits","totalHits","informationTotalPrice","errorSearch","clearFormSearch","err","iziToast","elements"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,MAAMC,CAAa,CACjB,aAAc,CACZ,KAAK,YAAc,EACpB,CACD,SAAU,CACR,OAAO,MACL,GAAGF,CAAQ,QAAQC,CAAO,MAAM,KAAK,WAAW,8DACtD,EAAM,KAAKE,GAAY,CACjB,GAAI,CAACA,EACH,MAAM,IAAI,MACR,uBAAuBA,EAAS,MAAM,WAAWA,EAAS,UAAU,EAC9E,EAEM,OAAOA,EAAS,MACtB,CAAK,CACF,CACH,CCnBA,SAASC,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,uCACwBL,CAAa;AAAA,0CACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qCAK/BC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qCAIRC,CAAS;AAAA;AAAA;AAAA,cAKzC,EACA,KAAK,EAAE,CACZ,CC/BA,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAED,MAAMC,EAAe,IAAIb,EAEnBc,EAAO,CACX,WAAY,SAAS,cAAc,OAAO,EAC1C,SAAU,SAAS,cAAc,YAAY,EAC7C,QAAS,SAAS,cAAc,mBAAmB,CACrD,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,CAAY,EAEvDC,IAEA,SAASD,EAAaE,EAAG,CACvBA,EAAE,eAAc,EAChBJ,EAAa,YAAcI,EAAE,cAAc,SAAS,YAAY,MAAM,OACtEC,IACAC,IAEAN,EACG,QAAQA,EAAa,WAAW,EAChC,KAAK,CAAC,CAAE,KAAAO,EAAM,UAAAC,KAAgB,CAC7B,GAAI,CAACD,EAAK,QAAU,CAACP,EAAa,YAChC,MAAM,IAAI,MAAM,SAAS,EAG3BG,IAEAM,EAAsBD,CAAS,EAE/BP,EAAK,SAAS,UAAYZ,EAAakB,CAAI,EAE3CT,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMY,CAAW,EACjB,QAAQC,CAAe,CAC5B,CAEA,SAASA,GAAkB,CACzBV,EAAK,WAAW,OAClB,CAEA,SAASS,EAAYE,EAAK,CACxBC,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QACE,0EACN,CAAG,EACD,QAAQ,IACN,0EACJ,EAEEV,GACF,CAEA,SAASG,GAAe,CACtBL,EAAK,SAAS,UAAY,EAC5B,CAEA,SAASQ,EAAsBK,EAAU,CACvC,QAAQ,IAAI,oBAAoBA,CAAQ,UAAU,EAElDD,EAAS,QAAQ,CACf,SAAU,WACV,MAAO,KACP,QAAS,oBAAoBC,CAAQ,UACzC,CAAG,CACH,CAIA,SAASX,GAAc,CACrBF,EAAK,QAAQ,UAAU,IAAI,QAAQ,CACrC,CAEA,SAASI,GAAc,CACrBJ,EAAK,QAAQ,UAAU,OAAO,QAAQ,CACxC"}